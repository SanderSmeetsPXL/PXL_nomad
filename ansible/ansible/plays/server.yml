---
- name: add hashicorp repo
  hosts: all
  become: yes

  tasks:
    - name: add hashicorp repo
      yum_repository:
        name: hashicorp
        description: adds hashicorp repo
        baseurl: https://rpm.releases.hashicorp.com/RHEL/$releasever/$basearch/stable
      become: yes  

- name: add yum-utils
  hosts: all
  become: yes

  tasks:
    - name: add yum-utils
      yum:
        name: yum-utils

- name: Add unzip
  hosts: all
  become: yes

  tasks:
    - name: Add Unzip
      yum:
        name: unzip

- name: Roles for required software
  hosts: all
  become: yes

  roles:
    - role: software/consul
    - role: software/docker
    - role: software/nomad
